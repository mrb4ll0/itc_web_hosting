<!DOCTYPE html>

<html class="light" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>IT Connect - My Postings</title>
    <meta name="color-scheme" content="light dark" />
    <script>
      // Immediate theme application to prevent flash
      (function () {
        const savedTheme = localStorage.getItem("app-theme");
        const systemDark = window.matchMedia(
          "(prefers-color-scheme: dark)"
        ).matches;

        if (savedTheme === "dark" || (!savedTheme && systemDark)) {
          document.documentElement.classList.add("dark");
        } else {
          document.documentElement.classList.remove("dark");
        }
      })();
    </script>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&amp;display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#005A9C",
              "background-light": "#F0F2F5",
              "background-dark": "#0f1323",
              "active-green": "#28a745",
              "closed-gray": "#6c757d",
              "draft-orange": "#fd7e14",
            },
            fontFamily: {
              display: ["Inter"],
            },
            borderRadius: {
              DEFAULT: "0.25rem",
              lg: "0.5rem",
              xl: "0.75rem",
              full: "9999px",
            },
          },
        },
      };
    </script>

    <style>
      /* Search input focus styles */
      #search-posting:focus {
        border-color: #005a9c;
        box-shadow: 0 0 0 3px rgba(0, 90, 156, 0.1);
      }

      /* Loading state for search */
      .search-loading {
        position: relative;
      }

      .search-loading::after {
        content: "";
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        width: 16px;
        height: 16px;
        border: 2px solid #f3f4f6;
        border-top: 2px solid #005a9c;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      /* Results counter */
      #results-counter {
        font-size: 0.875rem;
        color: #6b7280;
      }

      .dark #results-counter {
        color: #9ca3af;
      }

      /* Mobile list styles */
      .posting-card {
        transition: all 0.2s ease-in-out;
      }

      .posting-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .status-badge {
        display: inline-flex;
        align-items: center;
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: capitalize;
      }

      .status-active {
        background-color: #d1fae5;
        color: #065f46;
      }

      .status-draft {
        background-color: #ffedd5;
        color: #9a3412;
      }

      .status-closed {
        background-color: #f3f4f6;
        color: #374151;
      }

      .dark .status-active {
        background-color: #064e3b;
        color: #6ee7b7;
      }

      .dark .status-draft {
        background-color: #7c2d12;
        color: #fdba74;
      }

      .dark .status-closed {
        background-color: #374151;
        color: #d1d5db;
      }
    </style>
  </head>
  <body class="bg-background-light dark:bg-background-dark font-display">
    <div
      class="relative flex h-auto min-h-screen w-full flex-col group/design-root overflow-x-hidden"
    >
      <div class="layout-container flex h-full grow flex-col">
        <header
          class="bg-white dark:bg-background-dark shadow-md px-4 sm:px-6 lg:px-8"
        >
          <div class="mx-auto max-w-7xl">
            <div class="flex items-center justify-between h-16">
              <div class="flex items-center gap-8">
                <div class="flex items-center gap-2 text-primary">
                  <div class="w-15 h-8 text-primary animate-bounce">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke-width="2"
                      stroke="currentColor"
                      class="size-6"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"
                      />
                    </svg>
                  </div>
                  <h2 class="text-xl font-bold">IT Connect</h2>
                </div>
              </div>
              <div class="flex items-center gap-4">
                <div class="relative hidden sm:block">
                  <span
                    class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
                    >search</span
                  >
                  <input
                    id="search-posting"
                    class="form-input w-full rounded-lg border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-gray-800 pl-10 pr-4 py-2 text-sm text-gray-900 dark:text-gray-200 focus:ring-primary focus:border-primary"
                    placeholder="Search postings..."
                    type="search"
                  />
                </div>
                <div
                  id="company-logo"
                  class="w-10 h-10 rounded-full bg-cover bg-center"
                  data-alt="Company Logo"
                  style="
                    background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuBmHo7szC1qKIC0cu2XzRsLhwTfhpOW9tWtEPti3LQySX4wF_ZV5VxhdvU_Vw-0wmRo-83kBIsP-qSw1JAx7wbCqX2XLVT--RobqE7Z0y0MsLe-lK1NFREBRGZY_o2GuhxJbLR5Zi2Q6bxxf4mHxwKOOTR_xT5ZWEP0BEHPqBo7U34QDUWjCwlv2LRpY1clFSTeUrwRZpDbBKaoL27H5Xx11Ks3VA2AAbIw84RkrFqsqV6H462sJ7YYIiYRT52KRh73GAxeeFr-fQ');
                  "
                ></div>
              </div>
            </div>
          </div>
        </header>
        <main class="flex-1 px-4 sm:px-6 lg:px-8 py-8">
          <div class="mx-auto max-w-7xl">
            <div class="flex flex-wrap items-center justify-between gap-4 mb-6">
              <h1
                class="text-3xl font-extrabold text-gray-900 dark:text-white tracking-tight"
              >
                My Postings
              </h1>
              <button
                onclick="window.location.href='new_industrial_training.html'"
                class="flex items-center justify-center gap-2 rounded-lg bg-primary hover:bg-primary/90 text-white text-sm font-bold h-10 px-5 shadow-sm transition-colors"
              >
                <span class="material-symbols-outlined text-xl"
                  >add_circle</span
                >
                <span class="truncate">Create New Posting</span>
              </button>
            </div>
            <div class="mb-6 flex flex-wrap items-center gap-3">
              <div class="flex gap-2">
                <button
                  class="flex h-9 items-center justify-center gap-x-2 rounded-lg bg-white dark:bg-gray-800 pl-4 pr-3 border border-gray-300 dark:border-gray-700 hover:border-primary dark:hover:border-primary hover:text-primary dark:hover:text-primary text-gray-700 dark:text-gray-300"
                >
                  <p class="text-sm font-medium">Status: All</p>
                  <span class="material-symbols-outlined text-xl">
                    arrow_drop_down
                  </span>
                </button>
                <button
                  class="flex h-9 items-center justify-center gap-x-2 rounded-lg bg-white dark:bg-gray-800 pl-4 pr-3 border border-gray-300 dark:border-gray-700 hover:border-primary dark:hover:border-primary hover:text-primary dark:hover:text-primary text-gray-700 dark:text-gray-300"
                >
                  <p class="text-sm font-medium">Sort by: Date</p>
                  <span class="material-symbols-outlined text-xl">
                    arrow_drop_down
                  </span>
                </button>
              </div>
            </div>

            <!-- Desktop Table (hidden on mobile) -->
            <div
              class="bg-white dark:bg-background-dark shadow-sm rounded-xl overflow-hidden hidden md:block"
            >
              <div class="overflow-x-auto">
                <table
                  class="w-full text-sm text-left text-gray-500 dark:text-gray-400"
                >
                  <thead
                    class="text-xs text-gray-700 dark:text-gray-400 uppercase bg-gray-50 dark:bg-gray-800"
                  >
                    <tr>
                      <th
                        class="px-6 py-3 min-w-[250px] font-semibold"
                        scope="col"
                      >
                        Posting Title
                      </th>
                      <th class="px-6 py-3 font-semibold" scope="col">
                        Status
                      </th>
                      <th class="px-6 py-3 font-semibold" scope="col">
                        Applicants
                      </th>
                      <th
                        class="px-6 py-3 min-w-[200px] font-semibold"
                        scope="col"
                      >
                        Posted Date
                      </th>
                      <th
                        class="px-6 py-3 font-semibold text-center"
                        scope="col"
                      >
                        Actions
                      </th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
              </div>
              <div
                class="flex items-center justify-center p-4 border-t border-gray-200 dark:border-gray-800"
              ></div>
            </div>

            <!-- Mobile List (shown on mobile) -->
            <div class="md:hidden space-y-4">
              <!-- Mobile posting cards will be inserted here -->
              <div id="mobile-postings-list" class="space-y-4"></div>
              
              <!-- Mobile search -->
              <div class="relative mb-4 sm:hidden">
                <span
                  class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
                  >search</span
                >
                <input
                  id="search-posting-mobile"
                  class="form-input w-full rounded-lg border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-gray-800 pl-10 pr-4 py-2 text-sm text-gray-900 dark:text-gray-200 focus:ring-primary focus:border-primary"
                  placeholder="Search postings..."
                  type="search"
                />
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>
    <script type="module" src="js/general/company_post.js"></script>
    
    <script>
      // Mobile posting card template
      function createMobilePostingCard(posting) {
        return `
          <div class="posting-card bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4">
            <div class="flex justify-between items-start mb-3">
              <h3 class="font-semibold text-gray-900 dark:text-white text-base truncate flex-1 mr-2">
                ${posting.title}
              </h3>
              <span class="status-badge ${getStatusClass(posting.status)}">
                ${posting.status}
              </span>
            </div>
            
            <div class="space-y-2 text-sm text-gray-600 dark:text-gray-400">
              <div class="flex justify-between">
                <span class="font-medium">Applicants:</span>
                <span class="text-gray-900 dark:text-white">${posting.applicants}</span>
              </div>
              <div class="flex justify-between">
                <span class="font-medium">Posted:</span>
                <span class="text-gray-900 dark:text-white">${posting.date}</span>
              </div>
            </div>
            
            <div class="flex justify-between items-center mt-4 pt-3 border-t border-gray-200 dark:border-gray-700">
              <div class="flex gap-2">
                <button class="text-primary hover:text-primary/80 text-sm font-medium flex items-center gap-1">
                  <span class="material-symbols-outlined text-lg">visibility</span>
                  View
                </button>
                <button class="text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center gap-1">
                  <span class="material-symbols-outlined text-lg">edit</span>
                  Edit
                </button>
              </div>
              <button class="text-red-600 hover:text-red-800 text-sm font-medium flex items-center gap-1">
                <span class="material-symbols-outlined text-lg">delete</span>
                Delete
              </button>
            </div>
          </div>
        `;
      }

      function getStatusClass(status) {
        switch(status.toLowerCase()) {
          case 'active': return 'status-active';
          case 'draft': return 'status-draft';
          case 'closed': return 'status-closed';
          default: return 'status-draft';
        }
      }

      // Example of how to populate mobile view (you'll integrate this with your actual data)
      document.addEventListener('DOMContentLoaded', function() {
        // This is just sample data - replace with your actual data loading
        const samplePostings = [
        ];

        const mobileList = document.getElementById('mobile-postings-list');
        if (mobileList) {
          mobileList.innerHTML = samplePostings.map(posting => 
            createMobilePostingCard(posting)
          ).join('');
        }
      });
    </script>
  </body>
</html>